<!DOCTYPE html>
<html>
<head>
	<title>Задание 2</title>
	<meta charset="utf-8">
</head>
<body>
	<link href="File_css.css" rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<form name="user_data">
		<h3>Введите данные пользователя</h3>
		<p>Введите ваше имя (обязательно)</p>
		<input required type="text" name="name_of_user" class = "input1"><br>
		<p>Введите пароль (обязательно)</p>
		<input required type="text" name="user_password" class = "input2"><br>
		<p>Подтвердите пароль (обязательно)</p>
		<input required type="text" name="user_password_confirmation" class = "input3"><br>
		<p>Введите ваш Email (обязательно)</p>
		<input required type="text" name="user_email" class = "input4"><br>
		<p>Тема сообщения:</p>
		<input type="text" name="message_theme" class = "input5"><br>
		<p>Сообщение (обязательно)</p>
		<input required type="text" name="message" class = "input6"><br>

		<input type="button" value = "Отправить" id = "otpravka">
		<input type="reset" value = "Очистить"> <!-- Проба пера -->
	</form>

	<script type="text/javascript">
		$(document).ready(function(){
			$("#otpravka").click(function(){
				// В проверке полей пока нет функции, которая бы понимала, которое из незаполненных полей первое и на которое из них нужно перевести фокус
				// Имя пользователя
				let trigger = 0;
				if(document.user_data.name_of_user.value == ""){
					alert("Вы должны ввести имя пользователя");
					document.user_data.name_of_user.focus();
					$(document.user_data.name_of_user).css("outline","2px solid red");
					trigger = 1;}	
				
				// Пароль
				if(document.user_data.user_password.value == "") {
					alert("Вы должны ввести пароль");
					document.user_data.user_password.focus();
					$(document.user_data.user_password).css("outline","2px solid red");
					trigger = 1;
				} else if (document.user_data.user_password.value.length < 4){
						alert("Длина пароля не соответствует требованиям");
						document.user_data.user_password.focus();
						$(document.user_data.user_password).css("outline","2px solid red");
						trigger = 1;}

				if(document.user_data.user_password_confirmation.value == "" || document.user_data.user_password_confirmation.value != document.user_data.user_password.value) {
					alert("Поле подтверждния пароля заполнено неправильно");
					document.user_data.user_password_confirmation.focus();
					$(document.user_data.user_password_confirmation).css("outline","2px solid red");
					trigger = 1;}

				// Email
				if(document.user_data.user_email.value == ""){
					alert("Вы должны ввести электронную почту");
					document.user_data.user_email.focus();
					$(document.user_data.user_email).css("outline","2px solid red");
					trigger = 1;
				} else if(document.user_data.user_email.value.includes("@") == false){
					alert("Некорректный Email-адрес");
					$(document.user_data.user_email).css("outline","2px solid red");
					trigger = 1;}

				// Сообщение
				if(document.user_data.message.value == ""){
					alert("Вы должны ввести сообщение");
					document.user_data.message.focus();
					$(document.user_data.message).css("outline","2px solid red");
					trigger = 1;
				} else if (document.user_data.message.value.length < 10){
						alert("Длина сообщения не соответствует требованиям");
						$(document.user_data.message).css("outline","2px solid red");
						trigger = 1;}

				if (trigger == 0) {
					alert("Ваши данные успешно отправлены!");
				}
			});
		});
	</script>
</body>
</html>